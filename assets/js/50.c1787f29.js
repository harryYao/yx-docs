(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{316:function(e,t,a){"use strict";a.r(t);var n=a(16),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue-util方法和属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-util方法和属性"}},[e._v("#")]),e._v(" vue.util方法和属性")]),e._v(" "),a("p",[e._v("属性和方法：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('["defineReactive", "_toString", "toNumber", "makeMap",\n"isBuiltInTag", "remove", "hasOwn", "isPrimitive",\n"cached", "camelize", "capitalize", "hyphenate",\n"bind", "toArray", "extend", "isObject",\n"isPlainObject", "toObject", "noop", "no",\n"genStaticKeys", "isReserved", "def", "parsePath",\n"hasProto", "inBrowser", "devtools", "UA", "nextTick",\n"_Set", "mergeOptions", "resolveAsset", "warn",\n"formatComponentName", "validateProp"]\n')])])]),a("ol",[a("li",[a("p",[e._v("defineReactive:定义一个对象的响应属性（core/observer/index.js）")]),e._v(" "),a("p",[e._v("usage:\nVue.util.defineReactive(obj,key,value,fn)")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v(" obj: 目标对象，\n key: 目标对象属性；\n value: 属性值\n fn: 只在node调试环境下set时调用\n")])])])]),e._v(" "),a("li",[a("p",[e._v("_toString : 字符串表示，与原生的toString()方法的区别：object和array使用JSON.stringify()处理，null输出''；(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nlet person = {\nname : 'libai'\n}\nVue.util._toString(person)")])]),e._v(" "),a("li",[a("p",[e._v("toNumber: 转化为number类型，内部使用parseFloat；返回浮点数或者本身(shared/util.js)")])])]),e._v(" "),a("p",[e._v("usage:\nlet size = '0.1$';\nVue.util.toNumber(size)  //--0.1")]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("makeMap: 生成一个Map对象实例，并返回检测key是否存在的函数；(shared/util.js)")])]),e._v(" "),a("p",[e._v("usage:\nVue.util.makeMap(str,toLowerCase);\nstr : 生成map对象key键的字符串，以‘,’隔开\ntoLowerCase: boolen是否小写")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let keys = 'name,age,job,email';\nlet maps = Vue.util.makMap(keys);\n\nconsole.log(maps['name'])  //---true\nconsole.log(maps['phone'])  //--false\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[e._v("isBuiltInTag : makeMap('slot,component',true)执行结果(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nconsole.log(Vue.util.isBuiltInTag('slot')) //--true;")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v(" console.log(Vue.util.isBuiltInTag('component')) //--true;\n \n console.log(Vue.util.isBuiltInTag('transition')) //--false;\n")])])])]),e._v(" "),a("li",[a("p",[e._v("remove: 删除数组中的一个项(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.remove(array,item);")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v(" let arr = ['libai','age'];\n Vue.util.remove(arr,'libai');\n console.log(arr)  //['age'];\n")])])])]),e._v(" "),a("li",[a("p",[e._v("hasOwn: 其实就是Object.hasOwnProperty(obj,key)的封装；(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.hasOwn(obj,key);")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v(" let person ={\n         name : 'libai',\n         age : '100'\n };\n \n console.log(Vue.util.hasOwn('name')) //---true\n")])])])]),e._v(" "),a("li",[a("p",[e._v("isPrimitive : 检测是不是简单类型值：string,number；(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.isPrimitive(value);")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v(" console.log(Vue.util.isPrimitive(12)) // --true\n")])])])]),e._v(" "),a("li",[a("p",[e._v("cached : 缓存函数执行的结果;将函数执行结果缓存在内部cache变量上，当第二次执行相同参数时，直接返回缓存结果(shared/util.js)")]),e._v(" "),a("p",[e._v("usage :\nVue.util.cached(fn);")]),e._v(" "),a("p",[e._v("实例：\nvar camelizeRE = /-(\\w)/g;\nvar camelize =  Vue.util.cached(function (str) {\nreturn str.replace(camelizeRE, function (_, c) {\nreturn c ? c.toUpperCase() : '';\n});\n});")]),e._v(" "),a("p",[e._v("let str = 'person-name-age';\nlet ret = camelize(str);\nlet ret1 = camelize(str);  //--此时取缓存值")]),e._v(" "),a("p",[e._v("console.log(ret,ret1)")])]),e._v(" "),a("li",[a("p",[e._v("camelize : 驼峰写法，使用了cached方式缓存结果；(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.camelize(str)；")]),e._v(" "),a("p",[e._v("example:\nlet str = 'person-name-age';\nlet ret = Vue.util.camelize(str);\nconsole.log(ret) //personNameAge;")])]),e._v(" "),a("li",[a("p",[e._v("hyphenate: 驼峰写法转化为连接符'-'写法：(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.camelize(str);")]),e._v(" "),a("p",[e._v("example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let name = 'personNameAge';\nlet ret = Vue.util.hyphenate(name);\n\nconsole.log(ret) //--输出person-name-age\n")])])])]),e._v(" "),a("li",[a("p",[e._v("bind: 绑定函数作用域，(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.bind(fn,ctx)")]),e._v(" "),a("p",[e._v("example:\nvar name = 'dufu';\nvar name1 = 'libai'\nvar person = { name1 };")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("var fn = Vue.util.bind(test,person);\ntest() //dufu\nfn()   //libai\n\nfunction test(){\n    console.log(this.name)\n}\n")])])])]),e._v(" "),a("li",[a("p",[e._v("toArray: 将类数组转化为数组(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nwindow.util.toArray(likeArray,start)\nlikeArray: 类数组对象；\nstart: 开始位置")]),e._v(" "),a("p",[e._v("example:\nlet divs = document.querySelectorAll('div');\nlet arr = Vue.util.toArray(divs,0);")])]),e._v(" "),a("li",[a("p",[e._v("extend: 浅复制(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.extend(to,form);\nto : 目标对象\nform： 源对象")]),e._v(" "),a("p",[e._v("example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let person ={\n        name: 'libai',\n        age : 100\n};\n\nlet cloneObj = Vue.util.extend({},person);\nconsole.loh(cloneObj)\n")])])])]),e._v(" "),a("li",[a("p",[e._v("isObject ： 检测是不是对象和null;(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.isObject(obj);")]),e._v(" "),a("p",[e._v("example:\nVue.util.isObject(null)  //true")])]),e._v(" "),a("li",[a("p",[e._v("isPlainObject : 检测是不是object对象，(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.isPlainObject(obj);")]),e._v(" "),a("p",[e._v("example:\nVue.util.isPlainObject(null)  //false\nVue.util.isPlainObject({}) //true")])]),e._v(" "),a("li",[a("p",[e._v("toObject : 将对象数组合并为一个对象；后面的属性覆盖前面的属性(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.toObject(arr);\narr : 对象数组；")]),e._v(" "),a("p",[e._v("example:\nlet name='libai',age=100\nlet names = {name };\nlet ages = {age}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let ret = Vue.util.toObject([names,ages]);\n\nconsole.log(ret) //{name:'libai',age:100}\n")])])])])]),e._v(" "),a("p",[e._v("一些简单工具函数：(shared/util.js)")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("noop : 纯函数；= function(){}\nno : 返回false函数；=> false\n")])])]),a("ol",{attrs:{start:"18"}},[a("li",[a("p",[e._v("genStaticKeys: 链接staticKeys合并成一个字符串(shared/util.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.genStaticKeys(modules)\nmodules: 对象数组，包含staticKeys数组字段；")]),e._v(" "),a("p",[e._v("example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let keys1 = ['name','age'];\nlet keys2 = ['job','email','phone'];\n\nlet module1 = {\n        staticKeys:keys1\n}\n\nlet module2 = {\n        staticKeys:keys2\n};\n\nVue.util.genStaticKeys([module1,module2]);\n\n//--输出：'name,age,job,email,phone'\n")])])])]),e._v(" "),a("li",[a("p",[e._v("isReserved: 判断字符串是不是$和_符开始的:用来过滤vm的方法和属性 (core/util/lang.js);")]),e._v(" "),a("p",[e._v("usage:\nVue.util.isReserved(str);")]),e._v(" "),a("p",[e._v("example:\nlet str = '$name';\nlet str1 = '_age';\nlet str2= 'normal';")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("Vue.util.isReserved(str) //true\nVue.util.isReserved(str1)  //true\nVue.util.isReserved(str2)  //false\n")])])])]),e._v(" "),a("li",[a("p",[e._v("def : 其实就是Object.defineProperty()方法的简便封装；")]),e._v(" "),a("p",[e._v("usage:\nVue.util.def(obj,key,value,enumerable)\nenumerable: 是否可枚举；")]),e._v(" "),a("p",[e._v("example:\nlet target = Object.create({});\nVue.util.def(target,'name','libai',true);")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("console.log(target) //---{name:'libai'}\n")])])])]),e._v(" "),a("li",[a("p",[e._v("parsePath: 解析路径")]),e._v(" "),a("p",[e._v("usage:\nVue.util.parsePath(str)\nstr : 'vue.core.util';")]),e._v(" "),a("p",[e._v("example:\nlet pathname = 'vue.core.util';\nlet paths = {\nvue:{\ncore:{\nutil:['index.js','util.js','lang.js']\n}"),a("br"),e._v("\n}\n};")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("let parse = Vue.util.parsePath(pathname); \nlet ret = parse(paths)\nconsole.log(ret) //['index.js','util.js','lang.js']\n")])])])]),e._v(" "),a("li",[a("p",[e._v("hasProto : 是否可以使用__proto__属性；")]),e._v(" "),a("p",[e._v("usage:\nVue.util.hasProto; //true or false")])]),e._v(" "),a("li",[a("p",[e._v("inBrowser : 是否是浏览器环境")]),e._v(" "),a("p",[e._v("usage:\nVue.util.isBrowser //--true or false")])]),e._v(" "),a("li",[a("p",[e._v("devtools: 浏览器环境是否安装vue-devtools工具")]),e._v(" "),a("p",[e._v("usage:\nVue.util.devtools //true or false")])]),e._v(" "),a("li",[a("p",[e._v("UA : 浏览器用户代理navigator.userAgent.toLowerCase()")]),e._v(" "),a("p",[e._v("usage:\nVue.util.UA //--string")])]),e._v(" "),a("li",[a("p",[e._v("nextTick : 延迟到下有一次执行：使用最新的window.MutationObserver对象；回退使用setTimeout方法；")]),e._v(" "),a("p",[e._v("usage :\nVue.util.nextTick(fn,ctx);")]),e._v(" "),a("p",[e._v("example:\nlet name = 'libai';\nlet person = {name};")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("Vue.util.nextTick(function(){console.log(this.name)},person);\nconsole.log('dufu');\n")])])])]),e._v(" "),a("li",[a("p",[e._v("_Set: 兼容es6中的Set数据结构；只提供了add,has,clear三个方法")]),e._v(" "),a("p",[e._v("usage:\nlet set = new Vue.util._Set();\nset.add(1);\nset.has(1);\nset.clear();")]),e._v(" "),a("p",[e._v("es6中还包含有delete,keys,values,entries,forEach,size等方法和属性；")])]),e._v(" "),a("li",[a("p",[e._v("warn: 输出警告信息：(core/util/debug.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.warn(message,vm);\nmessage： 输出信息\nvm: 取得vm.name，告之警告信息是来源于那个组件")]),e._v(" "),a("p",[e._v("example:\nlet message = 'text warn';\nlet name='vue';\nVue.util.warn(message,{name});")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("'vue.js:2250 [Vue warn]: text warn (found in component <vue>)'\n")])])])]),e._v(" "),a("li",[a("p",[e._v("formatComponentName:格式化组件名称,(core/util/debug.js)")]),e._v(" "),a("p",[e._v("usage:\nVue.util.formatComponentName(vm);\n1: 'root instance'\n2: 'component <${name}>'\n3: 'anonymous component'")]),e._v(" "),a("p",[e._v("example:\nlet name = 'libai';\nlet vm = {name}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("Vue.util.formatComponentName(vm)\n\n//--component <libai>")])])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);